<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome to certy’s documentation! &mdash; certy  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            certy
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Welcome to certy’s documentation!</a></li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#write-certificates-to-files">Write certificates to files</a></li>
<li><a class="reference internal" href="#https-server-and-client">HTTPS server and client</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-certy">API Reference</a><ul>
<li><a class="reference internal" href="#certy.Credential"><code class="docutils literal notranslate"><span class="pre">Credential</span></code></a><ul>
<li><a class="reference internal" href="#certy.Credential.ca"><code class="docutils literal notranslate"><span class="pre">Credential.ca()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.expires"><code class="docutils literal notranslate"><span class="pre">Credential.expires()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.ext_key_usages"><code class="docutils literal notranslate"><span class="pre">Credential.ext_key_usages()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.generate"><code class="docutils literal notranslate"><span class="pre">Credential.generate()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.get_certificate"><code class="docutils literal notranslate"><span class="pre">Credential.get_certificate()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.get_certificate_as_pem"><code class="docutils literal notranslate"><span class="pre">Credential.get_certificate_as_pem()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.get_certificates"><code class="docutils literal notranslate"><span class="pre">Credential.get_certificates()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.get_certificates_as_pem"><code class="docutils literal notranslate"><span class="pre">Credential.get_certificates_as_pem()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.get_private_key"><code class="docutils literal notranslate"><span class="pre">Credential.get_private_key()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.get_private_key_as_pem"><code class="docutils literal notranslate"><span class="pre">Credential.get_private_key_as_pem()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.issuer"><code class="docutils literal notranslate"><span class="pre">Credential.issuer()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.key_size"><code class="docutils literal notranslate"><span class="pre">Credential.key_size()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.key_type"><code class="docutils literal notranslate"><span class="pre">Credential.key_type()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.key_usages"><code class="docutils literal notranslate"><span class="pre">Credential.key_usages()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.not_after"><code class="docutils literal notranslate"><span class="pre">Credential.not_after()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.not_before"><code class="docutils literal notranslate"><span class="pre">Credential.not_before()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.serial"><code class="docutils literal notranslate"><span class="pre">Credential.serial()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.subject"><code class="docutils literal notranslate"><span class="pre">Credential.subject()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.subject_alt_names"><code class="docutils literal notranslate"><span class="pre">Credential.subject_alt_names()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.write_certificate_as_pem"><code class="docutils literal notranslate"><span class="pre">Credential.write_certificate_as_pem()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.write_certificates_as_pem"><code class="docutils literal notranslate"><span class="pre">Credential.write_certificates_as_pem()</span></code></a></li>
<li><a class="reference internal" href="#certy.Credential.write_private_key_as_pem"><code class="docutils literal notranslate"><span class="pre">Credential.write_private_key_as_pem()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#certy.ExtendedKeyUsage"><code class="docutils literal notranslate"><span class="pre">ExtendedKeyUsage</span></code></a><ul>
<li><a class="reference internal" href="#certy.ExtendedKeyUsage.CLIENT_AUTH"><code class="docutils literal notranslate"><span class="pre">ExtendedKeyUsage.CLIENT_AUTH</span></code></a></li>
<li><a class="reference internal" href="#certy.ExtendedKeyUsage.CODE_SIGNING"><code class="docutils literal notranslate"><span class="pre">ExtendedKeyUsage.CODE_SIGNING</span></code></a></li>
<li><a class="reference internal" href="#certy.ExtendedKeyUsage.EMAIL_PROTECTION"><code class="docutils literal notranslate"><span class="pre">ExtendedKeyUsage.EMAIL_PROTECTION</span></code></a></li>
<li><a class="reference internal" href="#certy.ExtendedKeyUsage.OCSP_SIGNING"><code class="docutils literal notranslate"><span class="pre">ExtendedKeyUsage.OCSP_SIGNING</span></code></a></li>
<li><a class="reference internal" href="#certy.ExtendedKeyUsage.SERVER_AUTH"><code class="docutils literal notranslate"><span class="pre">ExtendedKeyUsage.SERVER_AUTH</span></code></a></li>
<li><a class="reference internal" href="#certy.ExtendedKeyUsage.TIME_STAMPING"><code class="docutils literal notranslate"><span class="pre">ExtendedKeyUsage.TIME_STAMPING</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#certy.KeyType"><code class="docutils literal notranslate"><span class="pre">KeyType</span></code></a><ul>
<li><a class="reference internal" href="#certy.KeyType.EC"><code class="docutils literal notranslate"><span class="pre">KeyType.EC</span></code></a></li>
<li><a class="reference internal" href="#certy.KeyType.RSA"><code class="docutils literal notranslate"><span class="pre">KeyType.RSA</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#certy.KeyUsage"><code class="docutils literal notranslate"><span class="pre">KeyUsage</span></code></a><ul>
<li><a class="reference internal" href="#certy.KeyUsage.CRL_SIGN"><code class="docutils literal notranslate"><span class="pre">KeyUsage.CRL_SIGN</span></code></a></li>
<li><a class="reference internal" href="#certy.KeyUsage.DATA_ENCIPHERMENT"><code class="docutils literal notranslate"><span class="pre">KeyUsage.DATA_ENCIPHERMENT</span></code></a></li>
<li><a class="reference internal" href="#certy.KeyUsage.DECIPHER_ONLY"><code class="docutils literal notranslate"><span class="pre">KeyUsage.DECIPHER_ONLY</span></code></a></li>
<li><a class="reference internal" href="#certy.KeyUsage.DIGITAL_SIGNATURE"><code class="docutils literal notranslate"><span class="pre">KeyUsage.DIGITAL_SIGNATURE</span></code></a></li>
<li><a class="reference internal" href="#certy.KeyUsage.ENCIPHER_ONLY"><code class="docutils literal notranslate"><span class="pre">KeyUsage.ENCIPHER_ONLY</span></code></a></li>
<li><a class="reference internal" href="#certy.KeyUsage.KEY_AGREEMENT"><code class="docutils literal notranslate"><span class="pre">KeyUsage.KEY_AGREEMENT</span></code></a></li>
<li><a class="reference internal" href="#certy.KeyUsage.KEY_CERT_SIGN"><code class="docutils literal notranslate"><span class="pre">KeyUsage.KEY_CERT_SIGN</span></code></a></li>
<li><a class="reference internal" href="#certy.KeyUsage.KEY_ENCIPHERMENT"><code class="docutils literal notranslate"><span class="pre">KeyUsage.KEY_ENCIPHERMENT</span></code></a></li>
<li><a class="reference internal" href="#certy.KeyUsage.NON_REPUDIATION"><code class="docutils literal notranslate"><span class="pre">KeyUsage.NON_REPUDIATION</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#bugs-feature-requests-and-other-contributions">Bugs, feature requests and other contributions</a></li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">certy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Welcome to certy’s documentation!</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="welcome-to-certy-s-documentation">
<h1>Welcome to certy’s documentation!<a class="headerlink" href="#welcome-to-certy-s-documentation" title="Permalink to this heading"></a></h1>
<p>Certy provides a simple API for creating X509 certificates on demand when running unit tests.
No more storing test certificates and private keys in the repository!</p>
<p>Python-certy is a version of similar tool for command line and Golang called <a class="reference external" href="https://github.com/tsaarni/certyaml">certyaml</a> and <a class="reference external" href="https://github.com/tsaarni/java-certy/">java-certy</a> for Java.</p>
</section>
<section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this heading"></a></h1>
<p>Install certy from <a class="reference external" href="https://pypi.org/project/certy/">pypi</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>certy
</pre></div>
</div>
</section>
<section id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Permalink to this heading"></a></h1>
<section id="write-certificates-to-files">
<h2>Write certificates to files<a class="headerlink" href="#write-certificates-to-files" title="Permalink to this heading"></a></h2>
<p>Following example creates a CA certificate and a server certificate signed by the CA.
The server certificate is valid for host <code class="docutils literal notranslate"><span class="pre">app.127.0.0.1.nip.io</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">certy</span> <span class="kn">import</span> <span class="n">Credential</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="n">ca</span> <span class="o">=</span> <span class="n">Credential</span><span class="p">()</span><span class="o">.</span><span class="n">subject</span><span class="p">(</span><span class="s2">&quot;CN=ca&quot;</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="n">ca</span><span class="o">.</span><span class="n">write_certificates_as_pem</span><span class="p">(</span><span class="s2">&quot;ca.pem&quot;</span><span class="p">)</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="n">cred</span> <span class="o">=</span> <span class="p">(</span>
<span class="linenos"> 7</span>    <span class="n">Credential</span><span class="p">()</span>
<span class="linenos"> 8</span>    <span class="o">.</span><span class="n">subject</span><span class="p">(</span><span class="s2">&quot;CN=server&quot;</span><span class="p">)</span>
<span class="linenos"> 9</span>    <span class="o">.</span><span class="n">issuer</span><span class="p">(</span><span class="n">ca</span><span class="p">)</span>
<span class="linenos">10</span>    <span class="o">.</span><span class="n">subject_alt_names</span><span class="p">(</span><span class="s2">&quot;DNS:app.127.0.0.1.nip.io&quot;</span><span class="p">)</span>
<span class="linenos">11</span><span class="p">)</span>
<span class="linenos">12</span><span class="n">cred</span><span class="o">.</span><span class="n">write_certificates_as_pem</span><span class="p">(</span><span class="s2">&quot;cert.pem&quot;</span><span class="p">)</span>
<span class="linenos">13</span><span class="n">cred</span><span class="o">.</span><span class="n">write_private_key_as_pem</span><span class="p">(</span><span class="s2">&quot;key.pem&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="https-server-and-client">
<h2>HTTPS server and client<a class="headerlink" href="#https-server-and-client" title="Permalink to this heading"></a></h2>
<p>Following example creates two PKI hierarchies:</p>
<ul class="simple">
<li><p>The server PKI hierarchy contains a root CA and intermediate CA. The server certificate is signed by the intermediate.</p></li>
<li><p>The client PKI hierarchy contains just a root CA, which is used to sign the client certificate.</p></li>
</ul>
<p>The server validates the client certificate against the client root CA and the client validates the server certificate against the server root CA.
The client also validates that the server hostname matches the certificate subject alternative name <code class="docutils literal notranslate"><span class="pre">app.127.0.0.1.nip.io</span></code> since that hostname is used to connect to the server.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span> <span class="nn">os</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">ssl</span>
<span class="linenos"> 3</span><span class="kn">import</span> <span class="nn">threading</span>
<span class="linenos"> 4</span><span class="kn">from</span> <span class="nn">http.server</span> <span class="kn">import</span> <span class="n">HTTPServer</span><span class="p">,</span> <span class="n">SimpleHTTPRequestHandler</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="kn">import</span> <span class="nn">requests</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="kn">from</span> <span class="nn">certy</span> <span class="kn">import</span> <span class="n">Credential</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="k">def</span> <span class="nf">serve_https</span><span class="p">(</span><span class="n">server_cert_path</span><span class="p">,</span> <span class="n">server_key_path</span><span class="p">,</span> <span class="n">client_root_ca_path</span><span class="p">):</span>
<span class="linenos">12</span>    <span class="c1"># Create SSLContext for the server.</span>
<span class="linenos">13</span>    <span class="c1"># Require client certificate signed by the client root CA.</span>
<span class="linenos">14</span>    <span class="n">context</span> <span class="o">=</span> <span class="n">ssl</span><span class="o">.</span><span class="n">create_default_context</span><span class="p">(</span>
<span class="linenos">15</span>        <span class="n">ssl</span><span class="o">.</span><span class="n">Purpose</span><span class="o">.</span><span class="n">CLIENT_AUTH</span><span class="p">,</span> <span class="n">cafile</span><span class="o">=</span><span class="n">client_root_ca_path</span>
<span class="linenos">16</span>    <span class="p">)</span>
<span class="linenos">17</span>    <span class="n">context</span><span class="o">.</span><span class="n">verify_mode</span> <span class="o">=</span> <span class="n">ssl</span><span class="o">.</span><span class="n">CERT_REQUIRED</span>
<span class="linenos">18</span>
<span class="linenos">19</span>    <span class="c1"># Load server certificate and private key.</span>
<span class="linenos">20</span>    <span class="n">context</span><span class="o">.</span><span class="n">load_cert_chain</span><span class="p">(</span><span class="n">certfile</span><span class="o">=</span><span class="n">server_cert_path</span><span class="p">,</span> <span class="n">keyfile</span><span class="o">=</span><span class="n">server_key_path</span><span class="p">)</span>
<span class="linenos">21</span>
<span class="linenos">22</span>    <span class="n">http</span> <span class="o">=</span> <span class="n">HTTPServer</span><span class="p">((</span><span class="s2">&quot;localhost&quot;</span><span class="p">,</span> <span class="mi">8443</span><span class="p">),</span> <span class="n">SimpleHTTPRequestHandler</span><span class="p">)</span>
<span class="linenos">23</span>    <span class="n">http</span><span class="o">.</span><span class="n">socket</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">wrap_socket</span><span class="p">(</span><span class="n">http</span><span class="o">.</span><span class="n">socket</span><span class="p">,</span> <span class="n">server_side</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">24</span>    <span class="n">http</span><span class="o">.</span><span class="n">serve_forever</span><span class="p">()</span>
<span class="linenos">25</span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="c1"># Create root CA and intermediate CA for issuing server certificate.</span>
<span class="linenos">28</span><span class="n">server_root_ca_cred</span> <span class="o">=</span> <span class="n">Credential</span><span class="p">()</span><span class="o">.</span><span class="n">subject</span><span class="p">(</span><span class="s2">&quot;CN=server-root-ca&quot;</span><span class="p">)</span>
<span class="linenos">29</span><span class="n">server_intermediate_ca_cred</span> <span class="o">=</span> <span class="p">(</span>
<span class="linenos">30</span>    <span class="n">Credential</span><span class="p">()</span><span class="o">.</span><span class="n">subject</span><span class="p">(</span><span class="s2">&quot;CN=server-intermediate-ca&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">issuer</span><span class="p">(</span><span class="n">server_root_ca_cred</span><span class="p">)</span><span class="o">.</span><span class="n">ca</span><span class="p">()</span>
<span class="linenos">31</span><span class="p">)</span>
<span class="linenos">32</span>
<span class="linenos">33</span><span class="c1"># Create root CA for issuing client certificate.</span>
<span class="linenos">34</span><span class="n">client_root_ca_cred</span> <span class="o">=</span> <span class="n">Credential</span><span class="p">()</span><span class="o">.</span><span class="n">subject</span><span class="p">(</span><span class="s2">&quot;CN=client-root-ca&quot;</span><span class="p">)</span>
<span class="linenos">35</span>
<span class="linenos">36</span><span class="c1"># Create a server certificate, issued by the intermediate server CA.</span>
<span class="linenos">37</span><span class="n">server_cred</span> <span class="o">=</span> <span class="p">(</span>
<span class="linenos">38</span>    <span class="n">Credential</span><span class="p">()</span>
<span class="linenos">39</span>    <span class="o">.</span><span class="n">subject</span><span class="p">(</span><span class="s2">&quot;CN=localhost&quot;</span><span class="p">)</span>
<span class="linenos">40</span>    <span class="o">.</span><span class="n">subject_alt_names</span><span class="p">(</span><span class="s2">&quot;DNS:app.127.0.0.1.nip.io&quot;</span><span class="p">)</span>
<span class="linenos">41</span>    <span class="o">.</span><span class="n">issuer</span><span class="p">(</span><span class="n">server_intermediate_ca_cred</span><span class="p">)</span>
<span class="linenos">42</span><span class="p">)</span>
<span class="linenos">43</span>
<span class="linenos">44</span><span class="c1"># Create a client certificate, issued by the server root CA.</span>
<span class="linenos">45</span><span class="n">client_cred</span> <span class="o">=</span> <span class="n">Credential</span><span class="p">()</span><span class="o">.</span><span class="n">subject</span><span class="p">(</span><span class="s2">&quot;CN=joe&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">issuer</span><span class="p">(</span><span class="n">client_root_ca_cred</span><span class="p">)</span>
<span class="linenos">46</span>
<span class="linenos">47</span><span class="c1"># Write the certificates and keys to disk.</span>
<span class="linenos">48</span><span class="n">server_root_ca_cred</span><span class="o">.</span><span class="n">write_certificates_as_pem</span><span class="p">(</span><span class="s2">&quot;server-root-ca.pem&quot;</span><span class="p">)</span>
<span class="linenos">49</span><span class="n">server_cred</span><span class="o">.</span><span class="n">write_certificates_as_pem</span><span class="p">(</span><span class="s2">&quot;server.pem&quot;</span><span class="p">)</span>
<span class="linenos">50</span><span class="n">server_cred</span><span class="o">.</span><span class="n">write_private_key_as_pem</span><span class="p">(</span><span class="s2">&quot;server-key.pem&quot;</span><span class="p">)</span>
<span class="linenos">51</span><span class="n">client_root_ca_cred</span><span class="o">.</span><span class="n">write_certificates_as_pem</span><span class="p">(</span><span class="s2">&quot;client-root-ca.pem&quot;</span><span class="p">)</span>
<span class="linenos">52</span><span class="n">client_cred</span><span class="o">.</span><span class="n">write_certificates_as_pem</span><span class="p">(</span><span class="s2">&quot;client.pem&quot;</span><span class="p">)</span>
<span class="linenos">53</span><span class="n">client_cred</span><span class="o">.</span><span class="n">write_private_key_as_pem</span><span class="p">(</span><span class="s2">&quot;client-key.pem&quot;</span><span class="p">)</span>
<span class="linenos">54</span>
<span class="linenos">55</span><span class="c1"># Start a HTTPS server in a separate thread.</span>
<span class="linenos">56</span><span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span>
<span class="linenos">57</span>    <span class="n">target</span><span class="o">=</span><span class="n">serve_https</span><span class="p">,</span>
<span class="linenos">58</span>    <span class="n">args</span><span class="o">=</span><span class="p">(</span>
<span class="linenos">59</span>        <span class="s2">&quot;server.pem&quot;</span><span class="p">,</span>  <span class="c1"># server_cert_path</span>
<span class="linenos">60</span>        <span class="s2">&quot;server-key.pem&quot;</span><span class="p">,</span>  <span class="c1"># server_key_path</span>
<span class="linenos">61</span>        <span class="s2">&quot;client-root-ca.pem&quot;</span><span class="p">,</span>  <span class="c1"># client_root_ca_path</span>
<span class="linenos">62</span>    <span class="p">),</span>
<span class="linenos">63</span><span class="p">)</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="linenos">64</span>
<span class="linenos">65</span><span class="c1"># Make a request to the HTTPS server.</span>
<span class="linenos">66</span><span class="c1"># Use the client certificate and key for mutual TLS authentication.</span>
<span class="linenos">67</span><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
<span class="linenos">68</span>    <span class="s2">&quot;https://app.127.0.0.1.nip.io:8443&quot;</span><span class="p">,</span>
<span class="linenos">69</span>    <span class="n">verify</span><span class="o">=</span><span class="s2">&quot;server-root-ca.pem&quot;</span><span class="p">,</span>
<span class="linenos">70</span>    <span class="n">cert</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;client.pem&quot;</span><span class="p">,</span> <span class="s2">&quot;client-key.pem&quot;</span><span class="p">),</span>
<span class="linenos">71</span><span class="p">)</span>
<span class="linenos">72</span>
<span class="linenos">73</span><span class="c1"># Print the response.</span>
<span class="linenos">74</span><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="module-certy">
<span id="api-reference"></span><h1>API Reference<a class="headerlink" href="#module-certy" title="Permalink to this heading"></a></h1>
<p>Certy is a simple X509 certificate generator for unit and integration tests.</p>
<dl class="py class">
<dt class="sig sig-object py" id="certy.Credential">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">certy.</span></span><span class="sig-name descname"><span class="pre">Credential</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://cryptography.io/en/latest/x509/reference/#cryptography.x509.Name" title="(in Cryptography v42.0.0.dev1)"><span class="pre">Name</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subject_alt_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">GeneralNames</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#certy.KeyType" title="certy.credential.KeyType"><span class="pre">KeyType</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expires</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.11)"><span class="pre">timedelta</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_before</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.11)"><span class="pre">datetime</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_after</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.11)"><span class="pre">datetime</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#certy.Credential" title="certy.credential.Credential"><span class="pre">Credential</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_ca</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_usages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#certy.KeyUsage" title="certy.credential.KeyUsage"><span class="pre">certy.credential.KeyUsage</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext_key_usages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#certy.ExtendedKeyUsage" title="certy.credential.ExtendedKeyUsage"><span class="pre">certy.credential.ExtendedKeyUsage</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serial</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#certy.Credential" title="Permalink to this definition"></a></dt>
<dd><p>Credential representing a certificate and associated private key</p>
<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.ca">
<span class="sig-name descname"><span class="pre">ca</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ca</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#certy.Credential" title="certy.credential.Credential"><span class="pre">Credential</span></a></span></span><a class="headerlink" href="#certy.Credential.ca" title="Permalink to this definition"></a></dt>
<dd><p>Set whether this credential is a CA or not.</p>
<p>If CA is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the key usage <code class="docutils literal notranslate"><span class="pre">KeyUsage.KEY_CERT_SIGN</span></code> and <code class="docutils literal notranslate"><span class="pre">KeyUsage.CRL_SIGN</span></code> are set
to the certificate, and the basic constraints extension is included with <code class="docutils literal notranslate"><span class="pre">ca</span></code> field set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>If not called, <code class="docutils literal notranslate"><span class="pre">True</span></code> is used for credentials that are self-signed, <code class="docutils literal notranslate"><span class="pre">False</span></code> for credentials that are not.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ca</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – Whether this credential is a CA or not.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This credential instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#certy.Credential" title="certy.Credential">Credential</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.expires">
<span class="sig-name descname"><span class="pre">expires</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expires</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.11)"><span class="pre">timedelta</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#certy.Credential" title="certy.credential.Credential"><span class="pre">Credential</span></a></span></span><a class="headerlink" href="#certy.Credential.expires" title="Permalink to this definition"></a></dt>
<dd><p>Set the expiration time of this credential.</p>
<p>The value is used to calculate the <code class="docutils literal notranslate"><span class="pre">notAfter</span></code> time for the certificate.
If not called, the certificate will expire 365 days from <code class="docutils literal notranslate"><span class="pre">notBefore</span></code>, unless overridden by
calling <a class="reference internal" href="#certy.Credential.not_after" title="certy.Credential.not_after"><code class="xref py py-meth docutils literal notranslate"><span class="pre">not_after()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>expires</strong> (<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.11)"><em>datetime.timedelta</em></a>) – The expiration time of this credential.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This credential instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#certy.Credential" title="certy.Credential">Credential</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.ext_key_usages">
<span class="sig-name descname"><span class="pre">ext_key_usages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">ext_key_usages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#certy.ExtendedKeyUsage" title="certy.credential.ExtendedKeyUsage"><span class="pre">ExtendedKeyUsage</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#certy.Credential" title="certy.credential.Credential"><span class="pre">Credential</span></a></span></span><a class="headerlink" href="#certy.Credential.ext_key_usages" title="Permalink to this definition"></a></dt>
<dd><p>Set the extended key usages of this credential.</p>
<p>If not called, extended key usages extension is not be included in the certificate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ext_key_usages</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><em>tuple</em></a><em>[</em><a class="reference internal" href="#certy.ExtendedKeyUsage" title="certy.ExtendedKeyUsage"><em>ExtendedKeyUsage</em></a><em>]</em>) – The extended key usages of this credential. One or more of certy.ExtendedKeyUsage.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This credential instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#certy.Credential" title="certy.Credential">Credential</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.generate">
<span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#certy.Credential" title="certy.credential.Credential"><span class="pre">Credential</span></a></span></span><a class="headerlink" href="#certy.Credential.generate" title="Permalink to this definition"></a></dt>
<dd><p>Generate the credential.
This method will (re)generate the private key and the certificate.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>This credential instance.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#certy.Credential" title="certy.Credential">Credential</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.get_certificate">
<span class="sig-name descname"><span class="pre">get_certificate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://cryptography.io/en/latest/x509/reference/#cryptography.x509.Certificate" title="(in Cryptography v42.0.0.dev1)"><span class="pre">Certificate</span></a></span></span><a class="headerlink" href="#certy.Credential.get_certificate" title="Permalink to this definition"></a></dt>
<dd><p>Get the certificate.</p>
<p>If the certificate has not been generated yet by calling <a class="reference internal" href="#certy.Credential.generate" title="certy.Credential.generate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">generate()</span></code></a>, it is generated automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The certificate.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://cryptography.io/en/latest/x509/reference/#cryptography.x509.Certificate" title="(in Cryptography v42.0.0.dev1)">cryptography.x509.Certificate</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.get_certificate_as_pem">
<span class="sig-name descname"><span class="pre">get_certificate_as_pem</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.11)"><span class="pre">bytes</span></a></span></span><a class="headerlink" href="#certy.Credential.get_certificate_as_pem" title="Permalink to this definition"></a></dt>
<dd><p>Get the certificate in PEM format.</p>
<p>If the certificate has not been generated yet by calling <a class="reference internal" href="#certy.Credential.generate" title="certy.Credential.generate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">generate()</span></code></a>, it is generated automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The certificate in PEM format.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.11)">bytes</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.get_certificates">
<span class="sig-name descname"><span class="pre">get_certificates</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://cryptography.io/en/latest/x509/reference/#cryptography.x509.Certificate" title="(in Cryptography v42.0.0.dev1)"><span class="pre">cryptography.x509.base.Certificate</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#certy.Credential.get_certificates" title="Permalink to this definition"></a></dt>
<dd><p>Get the certificate chain including the certificate itself and its issuers.
It will not include the root CA.</p>
<p>If the certificate has not been generated yet by calling <a class="reference internal" href="#certy.Credential.generate" title="certy.Credential.generate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">generate()</span></code></a>, it is generated automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The certificate chain.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a>[<a class="reference external" href="https://cryptography.io/en/latest/x509/reference/#cryptography.x509.Certificate" title="(in Cryptography v42.0.0.dev1)">cryptography.x509.Certificate</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.get_certificates_as_pem">
<span class="sig-name descname"><span class="pre">get_certificates_as_pem</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.11)"><span class="pre">bytes</span></a></span></span><a class="headerlink" href="#certy.Credential.get_certificates_as_pem" title="Permalink to this definition"></a></dt>
<dd><p>Get the certificate chain in PEM format.
The PEM bundle includes the certificate itself and its issuers, but not the root CA.</p>
<p>If the certificate has not been generated yet by calling <a class="reference internal" href="#certy.Credential.generate" title="certy.Credential.generate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">generate()</span></code></a>, it is generated automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The certificate chain in PEM format.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.11)">bytes</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.get_private_key">
<span class="sig-name descname"><span class="pre">get_private_key</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://cryptography.io/en/latest/hazmat/primitives/asymmetric/rsa/#cryptography.hazmat.primitives.asymmetric.rsa.RSAPrivateKey" title="(in Cryptography v42.0.0.dev1)"><span class="pre">RSAPrivateKey</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://cryptography.io/en/latest/hazmat/primitives/asymmetric/ec/#cryptography.hazmat.primitives.asymmetric.ec.EllipticCurvePrivateKey" title="(in Cryptography v42.0.0.dev1)"><span class="pre">EllipticCurvePrivateKey</span></a></span></span><a class="headerlink" href="#certy.Credential.get_private_key" title="Permalink to this definition"></a></dt>
<dd><p>Get the private key.</p>
<p>If the private key has not been generated yet by calling <a class="reference internal" href="#certy.Credential.generate" title="certy.Credential.generate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">generate()</span></code></a>, it is generated automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The private key.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://cryptography.io/en/latest/hazmat/primitives/asymmetric/rsa/#cryptography.hazmat.primitives.asymmetric.rsa.RSAPrivateKey" title="(in Cryptography v42.0.0.dev1)">cryptography.hazmat.primitives.asymmetric.rsa.RSAPrivateKey</a> | <a class="reference external" href="https://cryptography.io/en/latest/hazmat/primitives/asymmetric/ec/#cryptography.hazmat.primitives.asymmetric.ec.EllipticCurvePrivateKey" title="(in Cryptography v42.0.0.dev1)">cryptography.hazmat.primitives.asymmetric.ec.EllipticCurvePrivateKey</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.get_private_key_as_pem">
<span class="sig-name descname"><span class="pre">get_private_key_as_pem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.11)"><span class="pre">bytes</span></a></span></span><a class="headerlink" href="#certy.Credential.get_private_key_as_pem" title="Permalink to this definition"></a></dt>
<dd><p>Get the private key in PKCS8 PEM format.</p>
<p>If the private key has not been generated yet by calling <a class="reference internal" href="#certy.Credential.generate" title="certy.Credential.generate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">generate()</span></code></a>, it is generated automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>password</strong> – The password to encrypt the private key with. If not set, the private key is not encrypted.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The private key in PKCS8 PEM format.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.11)">bytes</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.issuer">
<span class="sig-name descname"><span class="pre">issuer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">issuer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#certy.Credential" title="certy.credential.Credential"><span class="pre">Credential</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#certy.Credential" title="certy.credential.Credential"><span class="pre">Credential</span></a></span></span><a class="headerlink" href="#certy.Credential.issuer" title="Permalink to this definition"></a></dt>
<dd><p>Set the issuer of this credential.</p>
<p>If not called, the issuer is set to the same value as the subject and the certificate is self-signed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>issuer</strong> (<a class="reference internal" href="#certy.Credential" title="certy.Credential"><em>Credential</em></a>) – The issuer of this credential.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This credential instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#certy.Credential" title="certy.Credential">Credential</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.key_size">
<span class="sig-name descname"><span class="pre">key_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#certy.Credential" title="certy.credential.Credential"><span class="pre">Credential</span></a></span></span><a class="headerlink" href="#certy.Credential.key_size" title="Permalink to this definition"></a></dt>
<dd><p>Set the key size of this credential.</p>
<p>If not called, the key size is <code class="docutils literal notranslate"><span class="pre">256</span></code> for <a class="reference internal" href="#certy.KeyType.EC" title="certy.KeyType.EC"><code class="xref py py-data docutils literal notranslate"><span class="pre">KeyType.EC</span></code></a> and <code class="docutils literal notranslate"><span class="pre">2048</span></code> for <a class="reference internal" href="#certy.KeyType.RSA" title="certy.KeyType.RSA"><code class="xref py py-data docutils literal notranslate"><span class="pre">KeyType.RSA</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The key size of this credential. Valid values depend on the key type.
For EC keys, valid values are 256, 384, and 521.
For RSA keys, valid values are 1024, 2048, and 4096.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This credential instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#certy.Credential" title="certy.Credential">Credential</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.key_type">
<span class="sig-name descname"><span class="pre">key_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#certy.KeyType" title="certy.credential.KeyType"><span class="pre">KeyType</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#certy.Credential" title="certy.credential.Credential"><span class="pre">Credential</span></a></span></span><a class="headerlink" href="#certy.Credential.key_type" title="Permalink to this definition"></a></dt>
<dd><p>Set the key type of this credential.</p>
<p>If not called, the key type will be <a class="reference internal" href="#certy.KeyType.EC" title="certy.KeyType.EC"><code class="xref py py-data docutils literal notranslate"><span class="pre">KeyType.EC</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key_type</strong> (<a class="reference internal" href="#certy.KeyType" title="certy.KeyType"><em>KeyType</em></a>) – The key type of this credential. Must be <a class="reference internal" href="#certy.KeyType.EC" title="certy.KeyType.EC"><code class="xref py py-data docutils literal notranslate"><span class="pre">KeyType.EC</span></code></a> or <a class="reference internal" href="#certy.KeyType.RSA" title="certy.KeyType.RSA"><code class="xref py py-data docutils literal notranslate"><span class="pre">KeyType.RSA</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This credential instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#certy.Credential" title="certy.Credential">Credential</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.key_usages">
<span class="sig-name descname"><span class="pre">key_usages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">key_usages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#certy.KeyUsage" title="certy.credential.KeyUsage"><span class="pre">KeyUsage</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#certy.Credential" title="certy.credential.Credential"><span class="pre">Credential</span></a></span></span><a class="headerlink" href="#certy.Credential.key_usages" title="Permalink to this definition"></a></dt>
<dd><p>Set the key usages of this credential.</p>
<p>If not called, the key usages <code class="docutils literal notranslate"><span class="pre">KeyUsage.DIGITAL_SIGNATURE</span></code> and <code class="docutils literal notranslate"><span class="pre">KeyUsage.KEY_ENCIPHERMENT</span></code> are set
to end-entity certificates (<a class="reference internal" href="#certy.Credential.ca" title="certy.Credential.ca"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ca()</span></code></a> is not <code class="docutils literal notranslate"><span class="pre">False</span></code>), and <code class="docutils literal notranslate"><span class="pre">KeyUsage.KEY_CERT_SIGN</span></code> and
<code class="docutils literal notranslate"><span class="pre">KeyUsage.CRL_SIGN</span></code> are set to CA certificates (<a class="reference internal" href="#certy.Credential.ca" title="certy.Credential.ca"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ca()</span></code></a> is <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key_usages</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><em>tuple</em></a><em>[</em><a class="reference internal" href="#certy.KeyUsage" title="certy.KeyUsage"><em>certy.KeyUsage</em></a><em>]</em>) – The key usages of this credential. One or more of <a class="reference internal" href="#certy.KeyUsage" title="certy.KeyUsage"><code class="xref py py-data docutils literal notranslate"><span class="pre">certy.KeyUsage</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This credential instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#certy.Credential" title="certy.Credential">Credential</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.not_after">
<span class="sig-name descname"><span class="pre">not_after</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">not_after</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.11)"><span class="pre">datetime</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#certy.Credential" title="certy.credential.Credential"><span class="pre">Credential</span></a></span></span><a class="headerlink" href="#certy.Credential.not_after" title="Permalink to this definition"></a></dt>
<dd><p>Set the not after time of this credential.</p>
<p>If not called, the not after time will be set to time given by <a class="reference internal" href="#certy.Credential.not_before" title="certy.Credential.not_before"><code class="xref py py-meth docutils literal notranslate"><span class="pre">not_before()</span></code></a>
plus the expiration time set by <a class="reference internal" href="#certy.Credential.expires" title="certy.Credential.expires"><code class="xref py py-meth docutils literal notranslate"><span class="pre">expires()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>not_after</strong> (<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.11)"><em>datetime.datetime</em></a>) – The not after time of this credential.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This credential instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#certy.Credential" title="certy.Credential">Credential</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.not_before">
<span class="sig-name descname"><span class="pre">not_before</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">not_before</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.11)"><span class="pre">datetime</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#certy.Credential" title="certy.credential.Credential"><span class="pre">Credential</span></a></span></span><a class="headerlink" href="#certy.Credential.not_before" title="Permalink to this definition"></a></dt>
<dd><p>Set the not before time of this credential.</p>
<p>If not called, current time is used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>not_before</strong> (<a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.11)"><em>datetime.datetime</em></a>) – The not before time of this credential.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This credential instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#certy.Credential" title="certy.Credential">Credential</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.serial">
<span class="sig-name descname"><span class="pre">serial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">serial</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#certy.Credential" title="certy.credential.Credential"><span class="pre">Credential</span></a></span></span><a class="headerlink" href="#certy.Credential.serial" title="Permalink to this definition"></a></dt>
<dd><p>Set the serial number of this credential.</p>
<p>If not called, the serial number is set to a random value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>serial</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The serial number of this credential.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This credential instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#certy.Credential" title="certy.Credential">Credential</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.subject">
<span class="sig-name descname"><span class="pre">subject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#certy.Credential" title="certy.credential.Credential"><span class="pre">Credential</span></a></span></span><a class="headerlink" href="#certy.Credential.subject" title="Permalink to this definition"></a></dt>
<dd><p>Set the subject name of this credential.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>subject</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – The subject name of this credential. Must be a valid RFC4514 string,
for example <code class="docutils literal notranslate"><span class="pre">CN=example.com</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This credential instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#certy.Credential" title="certy.Credential">Credential</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.subject_alt_names">
<span class="sig-name descname"><span class="pre">subject_alt_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">subject_alt_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#certy.Credential" title="certy.credential.Credential"><span class="pre">Credential</span></a></span></span><a class="headerlink" href="#certy.Credential.subject_alt_names" title="Permalink to this definition"></a></dt>
<dd><p>Set the subject alternative names of this credential.</p>
<p>If not called, the subject alternative names extension is not included in the certificate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>subject_alt_names</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><em>tuple</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a><em>]</em>) – The subject alternative name or names of this credential.
Must be one of the following:
DNS name for example <code class="docutils literal notranslate"><span class="pre">DNS:example.com</span></code>,
IP address <code class="docutils literal notranslate"><span class="pre">IP:1.2.3.4</span></code>,
or URI <code class="docutils literal notranslate"><span class="pre">URI:https://example.com</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This credential instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#certy.Credential" title="certy.Credential">Credential</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.write_certificate_as_pem">
<span class="sig-name descname"><span class="pre">write_certificate_as_pem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#certy.Credential.write_certificate_as_pem" title="Permalink to this definition"></a></dt>
<dd><p>Write the certificate in PEM format to a file.</p>
<p>If the certificate has not been generated yet by calling <a class="reference internal" href="#certy.Credential.generate" title="certy.Credential.generate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">generate()</span></code></a>, it is generated automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – The path to the file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.write_certificates_as_pem">
<span class="sig-name descname"><span class="pre">write_certificates_as_pem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#certy.Credential.write_certificates_as_pem" title="Permalink to this definition"></a></dt>
<dd><p>Write the certificate chain in PEM format to a file.
The PEM bundle includes the certificate itself and its issuers, but not the root CA.</p>
<p>If the certificate has not been generated yet by calling <a class="reference internal" href="#certy.Credential.generate" title="certy.Credential.generate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">generate()</span></code></a>, it is generated automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – The path to the file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="certy.Credential.write_private_key_as_pem">
<span class="sig-name descname"><span class="pre">write_private_key_as_pem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#certy.Credential.write_private_key_as_pem" title="Permalink to this definition"></a></dt>
<dd><p>Write the private key in PKCS8 PEM format to a file.</p>
<p>If the private key has not been generated yet by calling <a class="reference internal" href="#certy.Credential.generate" title="certy.Credential.generate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">generate()</span></code></a>, it is generated automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – The path to the file.</p></li>
<li><p><strong>password</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a><em> | </em><em>None</em>) – The password to encrypt the private key with. If not set, the private key is not encrypted.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="certy.ExtendedKeyUsage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">certy.</span></span><span class="sig-name descname"><span class="pre">ExtendedKeyUsage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#certy.ExtendedKeyUsage" title="Permalink to this definition"></a></dt>
<dd><p>Extended key usages are used with <a class="reference internal" href="#certy.Credential.ext_key_usages" title="certy.Credential.ext_key_usages"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Credential.ext_key_usages()</span></code></a> to specify the extended key usages for the certificate.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="certy.ExtendedKeyUsage.CLIENT_AUTH">
<span class="sig-name descname"><span class="pre">CLIENT_AUTH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;ObjectIdentifier(oid=1.3.6.1.5.5.7.3.2,</span> <span class="pre">name=clientAuth)&gt;</span></em><a class="headerlink" href="#certy.ExtendedKeyUsage.CLIENT_AUTH" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="certy.ExtendedKeyUsage.CODE_SIGNING">
<span class="sig-name descname"><span class="pre">CODE_SIGNING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;ObjectIdentifier(oid=1.3.6.1.5.5.7.3.3,</span> <span class="pre">name=codeSigning)&gt;</span></em><a class="headerlink" href="#certy.ExtendedKeyUsage.CODE_SIGNING" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="certy.ExtendedKeyUsage.EMAIL_PROTECTION">
<span class="sig-name descname"><span class="pre">EMAIL_PROTECTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;ObjectIdentifier(oid=1.3.6.1.5.5.7.3.4,</span> <span class="pre">name=emailProtection)&gt;</span></em><a class="headerlink" href="#certy.ExtendedKeyUsage.EMAIL_PROTECTION" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="certy.ExtendedKeyUsage.OCSP_SIGNING">
<span class="sig-name descname"><span class="pre">OCSP_SIGNING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;ObjectIdentifier(oid=1.3.6.1.5.5.7.3.9,</span> <span class="pre">name=OCSPSigning)&gt;</span></em><a class="headerlink" href="#certy.ExtendedKeyUsage.OCSP_SIGNING" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="certy.ExtendedKeyUsage.SERVER_AUTH">
<span class="sig-name descname"><span class="pre">SERVER_AUTH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;ObjectIdentifier(oid=1.3.6.1.5.5.7.3.1,</span> <span class="pre">name=serverAuth)&gt;</span></em><a class="headerlink" href="#certy.ExtendedKeyUsage.SERVER_AUTH" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="certy.ExtendedKeyUsage.TIME_STAMPING">
<span class="sig-name descname"><span class="pre">TIME_STAMPING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;ObjectIdentifier(oid=1.3.6.1.5.5.7.3.8,</span> <span class="pre">name=timeStamping)&gt;</span></em><a class="headerlink" href="#certy.ExtendedKeyUsage.TIME_STAMPING" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="certy.KeyType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">certy.</span></span><span class="sig-name descname"><span class="pre">KeyType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#certy.KeyType" title="Permalink to this definition"></a></dt>
<dd><p>Key types are used with <a class="reference internal" href="#certy.Credential.key_type" title="certy.Credential.key_type"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Credential.key_type()</span></code></a> to specify the type of key to generate.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="certy.KeyType.EC">
<span class="sig-name descname"><span class="pre">EC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#certy.KeyType.EC" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="certy.KeyType.RSA">
<span class="sig-name descname"><span class="pre">RSA</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#certy.KeyType.RSA" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="certy.KeyUsage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">certy.</span></span><span class="sig-name descname"><span class="pre">KeyUsage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#certy.KeyUsage" title="Permalink to this definition"></a></dt>
<dd><p>Key usages are used with <code class="xref py py-meth docutils literal notranslate"><span class="pre">Credential.key_usage()</span></code> to specify the key usages for the certificate.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="certy.KeyUsage.CRL_SIGN">
<span class="sig-name descname"><span class="pre">CRL_SIGN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'crl_sign'</span></em><a class="headerlink" href="#certy.KeyUsage.CRL_SIGN" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="certy.KeyUsage.DATA_ENCIPHERMENT">
<span class="sig-name descname"><span class="pre">DATA_ENCIPHERMENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'data_encipherment'</span></em><a class="headerlink" href="#certy.KeyUsage.DATA_ENCIPHERMENT" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="certy.KeyUsage.DECIPHER_ONLY">
<span class="sig-name descname"><span class="pre">DECIPHER_ONLY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'decipher_only'</span></em><a class="headerlink" href="#certy.KeyUsage.DECIPHER_ONLY" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="certy.KeyUsage.DIGITAL_SIGNATURE">
<span class="sig-name descname"><span class="pre">DIGITAL_SIGNATURE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'digital_signature'</span></em><a class="headerlink" href="#certy.KeyUsage.DIGITAL_SIGNATURE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="certy.KeyUsage.ENCIPHER_ONLY">
<span class="sig-name descname"><span class="pre">ENCIPHER_ONLY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'encipher_only'</span></em><a class="headerlink" href="#certy.KeyUsage.ENCIPHER_ONLY" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="certy.KeyUsage.KEY_AGREEMENT">
<span class="sig-name descname"><span class="pre">KEY_AGREEMENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'key_agreement'</span></em><a class="headerlink" href="#certy.KeyUsage.KEY_AGREEMENT" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="certy.KeyUsage.KEY_CERT_SIGN">
<span class="sig-name descname"><span class="pre">KEY_CERT_SIGN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'key_cert_sign'</span></em><a class="headerlink" href="#certy.KeyUsage.KEY_CERT_SIGN" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="certy.KeyUsage.KEY_ENCIPHERMENT">
<span class="sig-name descname"><span class="pre">KEY_ENCIPHERMENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'key_encipherment'</span></em><a class="headerlink" href="#certy.KeyUsage.KEY_ENCIPHERMENT" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="certy.KeyUsage.NON_REPUDIATION">
<span class="sig-name descname"><span class="pre">NON_REPUDIATION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'content_commitment'</span></em><a class="headerlink" href="#certy.KeyUsage.NON_REPUDIATION" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="bugs-feature-requests-and-other-contributions">
<h1>Bugs, feature requests and other contributions<a class="headerlink" href="#bugs-feature-requests-and-other-contributions" title="Permalink to this heading"></a></h1>
<p>Please use the <a class="reference external" href="https://github.com/tsaarni/python-certy">github</a> project for reporting bugs, requesting features and submitting pull requests.</p>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Certy Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>